!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/public/teachers/",a(a.s=0)}([function(e,t,a){a(1),e.exports=a(2)},function(e,t){var a="",s="",n="",o="";firebase.initializeApp({apiKey:"AIzaSyDm3WvCAVAtWHrQYzG3mNOei5ffzk2SGhg",authDomain:"dpro-343c0.firebaseapp.com",databaseURL:"https://dpro-343c0.firebaseio.com",projectId:"dpro-343c0",storageBucket:"dpro-343c0.appspot.com",messagingSenderId:"622288756150"});var r=new Date,l=r.getDate(),i=r.getMonth()+1,p=r.getFullYear();l<10&&(l="0"+l),i<10&&(i="0"+i),r=i+"/"+l+"/"+p;var c=firebase.database().ref("la-presentacion-el-paraiso/");const d=firebase.auth();function u(e,t){e.on("click",function(){window.onbeforeunload=function(){return beforeUnload()},""==n?(alert("recuerda escoger la materia antes de el salón"),window.location.href="index.html"):($(".con-notas").removeClass("l12"),$(".con-notas").addClass("l9"),$(".description").show(300),$(".con-notas").show(300),$(".hidden-before-room").show(300),$("#choose-subject").hide(500),$("#choose-subject-mobile").hide(500),$(".con-rooms").hide(700)),""==$("tbody").html()&&$(".tbody").html("<h1>Cargando...</h1>"),$("table tbody").html(""),console.log(n);$(".description .button-hide").html('<button class="btn hoverable waves con-rooms-show">Salones</button>');var e=$(this).text();c.child("users/").once("value",function(s){var o=s.val(),l=Object.keys(o);console.log(l);for(var i=s.val()[t].info.code,p=0;p<l.length;p++){var d=l[p],u=o[d].info.name,h=o[d].info.code,v=o[d].info.group,b=o[d].info.rol;console.log(u,v,h);let t=o[d].grades?parseFloat(o[d].grades[n].nupp):2,a=o[d].grades?parseFloat(o[d].grades[n].ndpp):2,s=o[d].grades?parseFloat(o[d].grades[n].ntpp):2,r=o[d].grades?parseFloat(o[d].grades[n].ncpp):2,c=o[d].grades?parseFloat(o[d].grades[n].ncipp):2,y=o[d].grades?parseFloat(o[d].grades[n].nsepp):2,F=o[d].grades?parseFloat(o[d].grades[n].nsipp):2,w=o[d].grades?parseFloat(o[d].grades[n].nopp):2,x=o[d].grades?parseFloat(o[d].grades[n].nepp):2,j=o[d].grades?parseFloat(o[d].grades[n].auto_1):2,k=o[d].grades?parseFloat(o[d].grades[n].coe_1):2,_=(t+a+s)/3*15/100,E=(r+c+y)/3*30/100,O=(F+w)/2*30/100,S=20*x/100,D=(j+k)/2*5/100;console.log(_,S,E,O);let M=(_+S+E+O+D).toFixed(2),C=o[d].grades?parseFloat(o[d].grades[n].nusp):2,z=o[d].grades?parseFloat(o[d].grades[n].ndsp):2,A=o[d].grades?parseFloat(o[d].grades[n].ntsp):2,N=o[d].grades?parseFloat(o[d].grades[n].ncsp):2,P=o[d].grades?parseFloat(o[d].grades[n].ncisp):2,I=o[d].grades?parseFloat(o[d].grades[n].nsesp):2,T=o[d].grades?parseFloat(o[d].grades[n].nsisp):2,L=o[d].grades?parseFloat(o[d].grades[n].nosp):2,B=o[d].grades?parseFloat(o[d].grades[n].nesp):2,H=o[d].grades?parseFloat(o[d].grades[n].auto_2):2,U=o[d].grades?parseFloat(o[d].grades[n].coe_2):2,W=(C+z+A)/3*15/100,q=(N+P+I)/3*30/100,G=(T+L)/2*30/100,R=B/1*20/100,V=(H+U)/2*5/100;console.log(W,R,q,G);let Y=(W+R+q+G+V).toFixed(2),K=o[d].grades?parseFloat(o[d].grades[n].nutp):2,Q=o[d].grades?parseFloat(o[d].grades[n].ndtp):2,J=o[d].grades?parseFloat(o[d].grades[n].nttp):2,X=o[d].grades?parseFloat(o[d].grades[n].nctp):2,Z=o[d].grades?parseFloat(o[d].grades[n].ncitp):2,ee=o[d].grades?parseFloat(o[d].grades[n].nsetp):2,te=o[d].grades?parseFloat(o[d].grades[n].nsitp):2,ae=o[d].grades?parseFloat(o[d].grades[n].notp):2,se=o[d].grades?parseFloat(o[d].grades[n].netp):2,ne=o[d].grades?parseFloat(o[d].grades[n].auto_3):2,oe=o[d].grades?parseFloat(o[d].grades[n].coe_3):2,re=(K+Q+J)/3*15/100,le=(X+Z+ee)/3*30/100,ie=(te+ae)/2*30/100,pe=se/1*20/100,ce=(ne+oe)/2*5/100;console.log(re,pe,le,ie);let de=(re+pe+le+ie+ce).toFixed(2);if(e==v&&"student"==b){var g=`\n\n                                            <tr class="tr-grades-table first-period">\n                                              <td>${o[d].info.name}</td>\n                                              <td style="display: none;">${o[d].info.group}</td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nupp" value="${t}" /><input type="number" href="${d}" class="${d}-set-ndpp" value="${a}" /><input type="number" href="${d}" class="${d}-set-ntpp" value="${s}" />\n                                              </td>\n                                              <td><input type="number" href="${d}" class="${d}-set-ncpp" value="${r}" /><input type="number" href="${d}" class="${d}-set-ncipp" value="${c}" /><input type="number" href="${d}" class="${d}-set-nsepp" value="${y}" />\n                                              </td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nsipp" value="${F}" /><input type="number" href="${d}" class="${d}-set-nopp" value="${w}" />\n                                              </td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nepp" value="${x}"/></td>\n                                              <td><input type="number" href="${d}" class="${d}-set-auto-1" value="${j}" /><input type="number" href="${d}" class="${d}-set-coe-1" value="${k}" />\n                                              </td>\n                                              <td><p class="${d}-total-average-1"> ${M} </p></td>\n                                              <td>\n                                                <div class="input-field">\n                                                   <input class="input-observacion ${d}-observacion-1" placeholder="Observacion" href="${d}"/>\n                                                </div>\n                                              </td>\n                                              <td class="noExl"><button class="btn hoverable submit-first-period btn-submit-grades" href="${d}">Enviar</button>\n                                              </td>\n\n                                            </tr>\n\n                                            `;$("#grades-first-period").append(g);var f=`\n                                            <tr class="tr-grades-table second-period">\n                                              <td>${o[d].info.name}</td>\n                                              <td style="display: none;">${o[d].info.group}</td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nusp" value="${C}" /><input type="number" href="${d}" class="${d}-set-ndsp" value="${z}" /><input type="number" href="${d}" class="${d}-set-ntsp" value="${A}" /></td>\n                                              <td><input type="number" href="${d}" class="${d}-set-ncsp" value="${N}" /><input type="number" href="${d}" class="${d}-set-ncisp" value="${P}" /><input type="number" href="${d}" class="${d}-set-nsesp" value="${I}" /></td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nsisp" value="${T}" /><input type="number" href="${d}" class="${d}-set-nosp" value="${L}" /></td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nesp" value="${B}" />\n                                              <td><input type="number" href="${d}" class="${d}-set-auto-2" value="${H}" /><input type="number" href="${d}" class="${d}-set-coe-2" value="${U}" /></td>\n                                              <td><p class="${d}-total-average-2"> ${Y} </p></td>\n                                              <td>\n                                                <div class="input-field">\n                                                   <input class="input-observacion ${d}-observacion-2" placeholder="Observacion"/>\n                                                </div>\n                                              </td>\n                                              <td class="noExl"><button class="btn hoverable submit-second-period btn-submit-grades" href="${d}">Enviar</button>\n                                              </td>\n\n                                            </tr>\n\n                                            `;$("#grades-second-period").append(f);var m=`\n\n                                            <tr class="tr-grades-table third-period">\n                                              <td>${o[d].info.name}</td>\n                                              <td style="display: none;">${o[d].info.group}</td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nutp" value="${K}" /><input type="number" href="${d}" class="${d}-set-ndtp" value="${Q}" /><input type="number" href="${d}" class="${d}-set-nttp" value="${J}" /></td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nctp" value="${X}" /><input type="number" href="${d}" class="${d}-set-ncitp" value="${Z}" /><input type="number" href="${d}" class="${d}-set-nsetp" value="${ee}" /></td>\n                                              <td><input type="number" href="${d}" class="${d}-set-nsitp" value="${te}" /><input type="number" href="${d}" class="${d}-set-notp" value="${ae}" /></td>\n                                              <td><input type="number" href="${d}" class="${d}-set-netp" value="${se}" />\n                                              <td><input type="number" href="${d}" class="${d}-set-auto-3" value="${ne}" /><input type="number" href="${d}" class="${d}-set-coe-3" value="${oe}" /></td>\n                                              <td><p class="${d}-total-average-3"> ${de} </p></td>\n                                              <td>\n                                                <div class="input-field">\n                                                   <input class="input-observacion ${d}-observacion-3" href="${d}}" placeholder="Observacion"/>\n                                                </div>\n                                              </td>\n                                              <td class="noExl"><button class="btn hoverable submit-third-period btn-submit-grades" href="${d}">Enviar</button>\n                                              </td>\n\n                                            </tr>\n\n                                            `;$("#grades-third-period").append(m),console.log(i)}$("input").addClass("set-mark-input"),$("tbody td:nth-child(3) input").focus(function(){$(".in-description").html('\n\n                        <img src="http://noticias.universia.com.ar/net/images/educacion/e/es/est/estrategias-promover-participacion-compromiso-estudiantes-clase-universia.jpg" alt="" width="100%">\n                        <div class="text">\n                          Mantener una actitud proactiva hacia los objetivos del programa, participando en las acciones previstas y dinamizando la relación con los estudiantes mentorizados.\n                        </div>\n                        <span class="blue-text text-lighten-4">Digita el numero de la nota y luego da click para registrarla</span><br />\n\n\n                    '),$(".con-rooms-show").click(function(){$(".con-rooms").show(400)})}),$("tbody td:nth-child(4) input").focus(function(){$(".in-description").html('\n\n                        <img src="http://www.ucamonline.net/sites/www.ucamonline.net/files/styles/foto_news/public/news/examenes-ucam.jpg" alt="" width="100%">\n                        <div class="text">\n                          Evaluaciones realizadas durante el periodo.\n                        </div>\n                        <span class="blue-text text-lighten-4">Digita el numero de la nota y luego da click para registrarla</span><br />\n\n\n                    '),$(".con-rooms-show").click(function(){$(".con-rooms").show()})}),$("tbody td:nth-child(5) input").focus(function(){$(".in-description").html('\n\n                        <img src="https://cdn0.teach.com/content/e6beb0b4202e44b0a17c945b0f48ee91/matmed.jpg" alt="" width="100%">\n                        <div class="text">\n                         Trabajos, actividades, exposiciones realizadas durante la clase.\n                        </div>\n                        <span class="blue-text text-lighten-4">Digita el numero de la nota y luego da click para registrarla</span><br />\n\n\n                    '),$(".con-rooms-show").click(function(){$(".con-rooms").show(400)})}),$("tbody td:nth-child(6) input").focus(function(){$(".in-description").html('\n\n                        <img src="https://d1bvpoagx8hqbg.cloudfront.net/originals/el-peor-examen-de-mi-vida-87266341d81d2e0b8e696a5b434bfb9f.jpg" alt="" width="100%">\n                        <div class="text">\n                          Evaluacion Final Del Periodo\n                        </div>\n                        <span class="blue-text text-lighten-4">Digita el numero de la nota y luego da click para registrarla</span><br />\n\n\n                    '),$(".con-rooms-show").click(function(){$(".con-rooms").show(400)})}),$("tbody td:nth-child(7) input").focus(function(){$(".in-description").html('\n\n                        <img src="https://af-production.s3.amazonaws.com/photos/images/76458/original/books.jpg" alt="" width="100%">\n                        <div class="text">\n                          Autoevaluaciòn del estudiante y coevaluacion de un profesor o estudiante del mismo grado.\n                        </div>\n                        <span class="blue-text text-lighten-4">Digita el numero de la nota y luego da click para registrarla</span><br />\n\n\n                    '),$(".con-rooms-show").click(function(){$(".con-rooms").show(400)})}),$(".con-rooms-show").click(function(){$(".con-rooms").show(400)})}$(".submit-first-period").on("click",function(){let e=$(".first-period input[type='number']");e.each(t=>{let a=e[t];""==a.value&&(console.log(`Input numero: ${t}`),a.value=2)});var t=$(this).attr("href");console.log(t);var s=parseFloat($(`.${t}-set-nupp`).val()),o=parseFloat($(`.${t}-set-ndpp`).val()),l=parseFloat($(`.${t}-set-ntpp`).val()),p=parseFloat($(`.${t}-set-ncpp`).val()),d=parseFloat($(`.${t}-set-ncipp`).val()),u=parseFloat($(`.${t}-set-nsepp`).val()),h=parseFloat($(`.${t}-set-nsipp`).val()),v=parseFloat($(`.${t}-set-nopp`).val()),b=parseFloat($(`.${t}-set-nepp`).val()),g=parseFloat($(`.${t}-set-auto-1`).val()),f=parseFloat($(`.${t}-set-coe-1`).val()),m=$(`.${t}-observacion-1`).val(),y=(s+o+l)/3*.15+(p+d+u)/3*.3+(h+v)/2*.3+.2*u+(g+f)/2*.05;console.log(y),m.length>=5?c.child("users/"+t+"/observations_1").push({teacherName:a,content:m,subject:n,teacherCode:i,date:r}).then(e=>M.toast({html:"Se ha enviado la observacion",classes:"green"})):console.log("No hubo observacion"),c.child("users/"+t+"/grades/"+n+"/").update({nupp:s,ndpp:o,ntpp:l,ncpp:p,ncipp:d,nsepp:u,nsipp:h,nopp:v,nepp:b,auto_1:g,coe_1:f,ave_1:y}).then(e=>{M.toast({html:"Se han enviado las notas",classes:"green"}),$(this).css("background-color","green"),$(this).attr("saved","saved")}).catch(e=>M.toast({html:"Hubo un Error"}))}),$(".submit-second-period").on("click",function(){let e=$(".second-period input[type='number']");e.each(t=>{let a=e[t];""==a.value&&(console.log(`Input numero: ${t}`),a.value=2)});var t=$(this).attr("href"),s=parseFloat($(`.${t}-set-nusp`).val()),o=parseFloat($(`.${t}-set-ndsp`).val()),l=parseFloat($(`.${t}-set-ntsp`).val()),p=parseFloat($(`.${t}-set-ncsp`).val()),d=parseFloat($(`.${t}-set-ncisp`).val()),u=parseFloat($(`.${t}-set-nsesp`).val()),h=parseFloat($(`.${t}-set-nsisp`).val()),v=parseFloat($(`.${t}-set-nosp`).val()),b=parseFloat($(`.${t}-set-nesp`).val()),g=parseFloat($(`.${t}-set-auto-2`).val()),f=parseFloat($(`.${t}-set-coe-2`).val()),m=$(`.${t}-observacion-2`).val(),y=(s+o+l)/3*.15+(p+d+u)/3*.3+(h+v)/2*.3+.2*u+(g+f)/2*.05;console.log(t),m.length>=5?c.child("users/"+t+"/observations_2").push({teacherName:a,content:m,subject:n,teacherCode:i,date:r}).then(e=>M.toast({html:"Se ha enviado la observacion",classes:"green"})):console.log("No hubo observacion"),c.child("users/"+t+"/grades/"+n+"/").update({nusp:s,ndsp:o,ntsp:l,ncsp:p,ncisp:d,nsesp:u,nsisp:h,nosp:v,nesp:b,auto_2:g,coe_2:f,ave_2:y}).then(e=>{M.toast({html:"Se han enviado las notas",classes:"green"}),$(this).css("background-color","green"),$(this).attr("saved","saved")}).catch(e=>M.toast({html:"Error"}))}),$(".submit-third-period").on("click",function(){let e=$(".third-period input[type='number']");e.each(t=>{let a=e[t];""==a.value&&(console.log(`Input numero: ${t}`),a.value=2)});var t=$(this).attr("href"),s=parseFloat($(`.${t}-set-nutp`).val()),o=parseFloat($(`.${t}-set-ndtp`).val()),l=parseFloat($(`.${t}-set-nttp`).val()),p=parseFloat($(`.${t}-set-nctp`).val()),d=parseFloat($(`.${t}-set-ncitp`).val()),u=parseFloat($(`.${t}-set-nsetp`).val()),h=parseFloat($(`.${t}-set-nsitp`).val()),v=parseFloat($(`.${t}-set-notp`).val()),b=parseFloat($(`.${t}-set-netp`).val()),g=parseFloat($(`.${t}-set-auto-3`).val()),f=parseFloat($(`.${t}-set-coe-3`).val()),m=$(`.${t}-observacion-3`).val(),y=(s+o+l)/3*.15+(p+d+u)/3*.3+(h+v)/2*.3+.2*u+(g+f)/2*.05;console.log(t),m.length>=5?c.child("users/"+t+"/observations_3").push({teacherName:a,content:m,subject:n,teacherCode:i,date:r}).then(()=>M.toast({html:"Se ha enviado la observacion",classes:"green"})):console.log("No hubo observacion"),c.child("users/"+t+"/grades/"+n+"/").update({nutp:s,ndtp:o,nttp:l,nctp:p,ncitp:d,nsetp:u,nsitp:h,notp:v,netp:b,auto_3:g,coe_3:f,ave_3:y}).then(e=>{M.toast({html:"Se han enviado las notas",classes:"green"}),$(this).css("background-color","green"),$(this).attr("saved","saved")}).catch(e=>Materialize.toast("Error",3e3,"red"))})})})}$(function(){$("#btnLogin").on("click",e=>{e.preventDefault();var t=$("#input-login-email").val(),a=($("#input-login-code").val(),$("#input-login-pass").val());d.signInWithEmailAndPassword(t,a).catch(e=>console.log("There´s an error"))}),$("#choose-subject").on("click",function(){n=this.value,console.log(n)}),d.onAuthStateChanged(e=>{e?firebase.database().ref("la-presentacion-el-paraiso/config").on("value",t=>{"active"==t.val().teachersView?(function(e,t,s){c.child(`users/${e}/info/subjects`).on("value",e=>{let o=Object.keys(e.val());o.forEach(a=>{console.log(a);var n=`<option>${e.val()[a]}</option>`,o=`<li><a class="waves-effect blue-text" href="#${e.val()[a]}" id="${e.val()[a]}">${e.val()[a]}</a></li>`;$(t).append(n),$(s).append(o)}),$(".user-name").text(a),$("#choose-subject-mobile a").on("click",function(){n=this.getAttribute("id"),console.log(n),$("#choose-subject-mobile").hide(500)})}),console.log("Holo")}(o=e.uid,"#choose-subject","#choose-subject-mobile"),$(".con-rooms").show(500),$(".container:first").hide(400),$(".hidden").show(500),console.log(n),c.child(`users/${o}/`).once("value",e=>{let t=e.val().info.user,n=e.val().info.email,o=e.val().info.name;$(".user").text(t),$(".email").text(n),$(".name").text(o);let r=e.val(),l=r.info.rol;a=r.info.name,s=r.info.email;let i=r.info.imgURL,p=`<li><a href="#${a}" class="waves-effect">${a}</a></li>\n                                <li><a href="#${s}" class="waves-effect">${s}</a></li>\n                                `;$("ul.sidenav").append(p),$(".user-img").attr("src",i),"teacher"!=l&&(window.location.href="../")}),function(e){firebase.database().ref("la-presentacion-el-paraiso/groups/").once("value",e=>{var t=Object.keys(e.val());t.forEach(e=>{let t=`<div class="room" id="room-${e}"><a href="#${e}">${e}</a>°</div>`;$(".con-rooms").append(t)});var a=$(".room a");u(a,o)})}()):Materialize.toast("La Plataforma Fue Deshabilitada",3e3,"red")}):(console.log("Not logged in"),$(".hidden").hide(400))}),$("#btn-logout").on("click",e=>{!function(e){$("#primero").hasClass("active")&&"saved"!=$("tr.first-period button").attr("saved")?(alert("Faltan cambios por guardar en primer periodo."),e.preventDefault()):$("#segundo").hasClass("active")&&"saved"!=$("tr.second-period button").attr("saved")?(alert("Faltan cambios por guardar en segundo periodo."),e.preventDefault()):$("#tercero").hasClass("active")&&"saved"!=$("tr.third-period button").attr("saved")?(alert("Faltan cambios por guardar en el tercer periodo."),e.preventDefault()):(d.signOut(),window.location.href="index.html");e.preventDefault()}()});var e=firebase.database().ref(),t=[];e.child("users").orderByChild("code").once("value").then(e=>{e.forEach(e=>{const a=e.val().info.code;t.push(a);var s=t.join();console.log(s)})})}())},function(e,t){function a(e,t,a){$("#obs").html(""),1==t?p="observations_1":2==t?p="observations_2":3==t&&(p="observations_3"),ref.child("users/").orderByChild("info/group").equalTo(a).once("value").then(t=>{t.key;let a=t.val();Object.keys(a).forEach(t=>{if(a[t][p]){Object.keys(a[t][p]).forEach(s=>{if(e==a[t][p][s].subject){let e=`\n                           <tr>\n                             <td>${a[t].info.name}</td>\n                             <td>${a[t][p][s].teacherName}</td>\n                             <td>${a[t][p][s].date}</td>\n                             <td>${a[t][p][s].subject}</td>\n                             <td>${a[t][p][s].content}</td>\n                             <td><button id="${s}-observation" href="${s}" index-database="${t}" class="btn hoverable remove-obs">Eliminar</button></td>\n                           </tr>\n                         `;$("#obs").append(e)}$(".remove-obs").on("click",function(e){!function(e,t,a){ref.child(`users/${e}/${t}/${a}`).set({})}($(this).attr("index-database"),p,$(this).attr("href"))})})}})})}auth.onAuthStateChanged(e=>{if(e){ref.child("users").on("value",e=>{$("#obs").html(""),setTimeout(function(){a(materia,period,group.value)},1e3)});pickSubject(e.uid,"#choose-subject",""),$(".set-conditions").on("click",function(){let e=$("#period").val(),t=$("#group").val();$("#obs").html(""),a(materia,e,t)}),ref.child("users/").on("value",e=>{$(".students-data").html("");var t=Object.keys(e.val());e.val();console.log(t)})}else console.log("not logged in")})}]);